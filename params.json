{"name":"Reskin","tagline":"Android换肤库","body":"### 使用步骤\r\n1 在应用Application `onCreate()`里添加：\r\n```java\r\nSkinManager.init(this);\r\n```\r\n2 支持换肤功能的Activity继承`BaseActivity`\r\n```java\r\npublic class MainActivity extends BaseActivity {\r\n    ...\r\n}\r\n```\r\n3 手动add的系统View，需要将View及其换肤属性添加到换肤管理\r\n```java\r\n/** 动态添加系统View */\r\nLinearLayout linearLayout = (LinearLayout) findViewById(R.id.root);\r\nTextView tv = new TextView(this);\r\nint colorResId = R.color.textColor;\r\ntv.setTextColor(getResources().getColor(colorResId));\r\nlinearLayout.addView(tv);\r\n\r\n/** 动态添加系统View不走onCreateView,需要手动添加换肤关注属性 */\r\nList<DynamicViewAttribute> attrs = new ArrayList<>();\r\nattrs.add(new DynamicViewAttribute(\"textColor\", colorResId));\r\naddSkinView(tv, attrs);\r\n```\r\n4 自定义View\r\n```java\r\npublic class SkinnableView extends CustomSkinView {\r\n\r\n    private String mText;\r\n\r\n    public SkinnableView(Context context) {\r\n        super(context);\r\n    }\r\n\r\n    public SkinnableView(Context context, AttributeSet attrs) {\r\n        super(context, attrs);\r\n    }\r\n\r\n    public SkinnableView(Context context, AttributeSet attrs, int defStyleAttr) {\r\n        super(context, attrs, defStyleAttr);\r\n    }\r\n\r\n    @Override\r\n    public void initSKinRes() {\r\n        /** 赋值:系统默认值 */\r\n        mText = getResources().getString(R.string.demo_text);\r\n\r\n        /** 若当前主题不是默认主题,需要更改属性值 */\r\n        if (SkinManager.getTheme() != SkinTheme.DEFAULT) {\r\n            try {\r\n                mText = getResources().getString(SkinManager.getTheme().getId(R.string.demo_text));\r\n            } catch (Resources.NotFoundException e) {\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onLayout(boolean changed, int left, int top, int right, int bottom) {\r\n        ...\r\n    }\r\n\r\n    @Override\r\n    protected void onDraw(Canvas canvas) {\r\n        super.onDraw(canvas);\r\n        canvas.drawText(mText, ...);\r\n    }\r\n\r\n    @Override\r\n    public void reSkin(SkinTheme theme) {\r\n        /** 必须try catch资源找不到时的异常，异常可不处理 */\r\n        try {\r\n            mText = getResources().getString(theme.getId(R.string.demo_text));\r\n        } catch (Resources.NotFoundException e) {\r\n        }\r\n\r\n        /** 更改属性值后刷新View */\r\n        invalidate();\r\n    }\r\n}\r\n```","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}